<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Video Player</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }

        #video-container {
            position: relative;
        }

        video {
            width: 100%;
            height: auto;
            display: block;
        }

        #custom-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: rgba(0, 0, 0, 0.7);
            color: #fff;
            display: flex;
            justify-content: space-between;
            padding: 8px;
        }

        #progress-bar-container {
            flex: 1;
            margin: 0 8px;
            position: relative;
        }

        #progress-bar {
            width: 100%;
            height: 10px;
            background-color: #555;
            position: relative;
            cursor: pointer;
        }

        #progress-bar-fill {
            height: 100%;
            background-color: #4caf50;
            position: relative;
        }

        #incident-marker {
            position: absolute;
            height: 100%;
            width: 5px;
            background-color: #e74c3c;
            left: 0;
        }

        #marker-input {
            margin-top: 10px;
            text-align: center;
        }
    </style>
</head>

<body>
    <div id="video-container">
        <video id="videoPlayer" controls>
            <source src="./.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <div id="custom-controls">
            <button id="play-pause">Play</button>
            <div id="progress-bar-container">
                <div id="progress-bar">
                    <div id="progress-bar-fill">
                        <div id="incident-marker"></div>
                    </div>
                </div>
                <div id="marker-input">
                    <label for="marker-time">Set Marker Time (seconds): </label>
                    <input type="number" id="marker-time" min="0" step="1" placeholder="Enter time">
                    <button id="set-marker">Set Marker</button>
                </div>
            </div>
            <span id="current-time">0:00</span>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var video = document.getElementById("videoPlayer");
            var playPauseButton = document.getElementById("play-pause");
            var progressBar = document.getElementById("progress-bar");
            var progressBarFill = document.getElementById("progress-bar-fill");
            var currentTimeSpan = document.getElementById("current-time");
            var incidentMarker = document.getElementById("incident-marker");
            var markerInput = document.getElementById("marker-time");
            var setMarkerButton = document.getElementById("set-marker");

            playPauseButton.addEventListener("click", function () {
                if (video.paused || video.ended) {
                    video.play();
                    playPauseButton.textContent = "Pause";
                } else {
                    video.pause();
                    playPauseButton.textContent = "Play";
                }
            });

            video.addEventListener("timeupdate", function () {
                var value = (video.currentTime / video.duration) * 100;
                progressBarFill.style.width = value + "%";

                var minutes = Math.floor(video.currentTime / 60);
                var seconds = Math.floor(video.currentTime % 60);
                currentTimeSpan.textContent = minutes + ":" + (seconds < 10 ? "0" + seconds : seconds);

                // Update marker position based on video progress
                var markerPosition = (video.currentTime / video.duration) * progressBar.offsetWidth;
                incidentMarker.style.left = markerPosition + "px";
            });

            progressBar.addEventListener("click", function (event) {
                var clickedPosition = event.clientX - progressBar.getBoundingClientRect().left;
                var progressBarWidth = progressBar.offsetWidth;
                var seekTime = (clickedPosition / progressBarWidth) * video.duration;
                video.currentTime = seekTime;

                // Update marker position when seeking
                var markerPosition = (seekTime / video.duration) * progressBar.offsetWidth;
                incidentMarker.style.left = markerPosition + "px";
            });

            setMarkerButton.addEventListener("click", function () {
                var markerTime = parseFloat(markerInput.value);
                if (!isNaN(markerTime) && markerTime >= 0 && markerTime <= video.duration) {
                    var markerPosition = (markerTime / video.duration) * progressBar.offsetWidth;
                    incidentMarker.style.left = markerPosition + "px";
                } else {
                    alert("Invalid marker time. Please enter a valid time in seconds.");
                }
            });
        });
    </script>
</body>

</html>
